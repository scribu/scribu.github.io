<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset='utf-8'>

		<link rel="alternate" type="application/atom+xml" href="/feed" title="Atom Feed">

		<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
		<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/b5a2e93c-328d-4f65-842e-5847ce5a0582">

		<link rel="icon" type="image/x-icon" href="/favicon.ico" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<link href="/assets/css/normalize.css" rel="stylesheet" />
		<link href="/assets/css/h5bp.css" rel="stylesheet" />
		<link href="/assets/css/svbtle.css" rel="stylesheet" />
		<link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
		<link href="/assets/css/github.css" rel="stylesheet" />
		<link href="/assets/css/custom.css?ver=1" rel="stylesheet" />

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<title>How To Reset Your Github Fork</title>
	</head>

	<body>

		<header id="sidebar">
			<aside id="my-logo" class="clearfix">
	<a title="scribu.net" class="ir" href="/">scribu</a>
</aside>

<ul id="user_meta">
	<li class="blog_name"><h1 id="blog_name"><a href="/">scribu</a></h1></li> 
	<li class="tagline"><h2 id="tagline"></h2></li>

	<li><a class="button" href="/about/">About</a></li>
	<li><a class="button" href="/projects/">Projects</a></li>
</ul>

		</header>

		<section id="river" role="main">








<article class="post">
	<h2 class="entry-title"><a class="no-link" href="/blog/resetting-your-github-fork.html">How To Reset Your Github Fork</a></h2>

	<time datetime="2012-04-14 00:00:00 +0300" id="top_time">April 14, 2012</time>

	<p class="entry-content">
	<p>Let’s say I want to contribute to a project on github. The project repository is at <a href="https://github.com/wp-cli/wp-cli">wp-cli/wp-cli</a>. First I fork it, and then clone the resulting repository, <a href="https://github.com/wp-cli/wp-cli">scribu/wp-cli</a>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --recursive git@github.com:scribu/wp-cli.git
cd wp-cli
</code></pre></div></div>

<p>Now, I make some commits to master, push them to my fork and open a pull request. Piece of cake:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -m "awesome new feature"
git push
</code></pre></div></div>

<p>But, what happens if my pull request is rejected or only certain commits are accepted? I’m left with a dirty master branch. Oh noes!</p>

<p>There are two ways of solving this:</p>

<p>A. Delete my fork and create it again via the github interface. Can’t get any easier than that.</p>

<p>B. Use <code class="highlighter-rouge">git checkout -B</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add upstream git://github.com/wp-cli/wp-cli.git
git fetch upstream
git branch backup
git checkout upstream/master -B master
git push --force
</code></pre></div></div>

<p>If I made a mistake, I can rescue my commits by calling <code class="highlighter-rouge">git checkout backup</code>.</p>

<p>PS: As Adam Backstrom pointed out in the comments, you can avoid this problem entirely by pushing your commits to some other branch, which you can simply delete after the pull request is merged:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout upstream/master -b my-feature
</code></pre></div></div>


</p>

	
	<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'scribu'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</article>


		</section>

		<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-962663-10");
			pageTracker._trackPageview();
		} catch(err) {}
</script>

	</body>
</html>

