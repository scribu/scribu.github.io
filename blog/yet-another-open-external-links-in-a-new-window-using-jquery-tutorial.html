<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 4.1 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Yet Another &#8220;Open External Links In A New Window Using jQuery&#8221; Tutorial</title>

  
  <meta name="author" content="Cristi Burcă">
  

  <meta name="description" content="In some cases, you need to prevent users from opening links to external sites in the same window. And what’s the easiest way to do that? jQuery, of course! Here’s my take on it: jQuery(document).delegate(‘a’, ‘click’, function() { var root = location.href.replace(location.pathname + location.search + location.hash, ''); if ( !this.href...">

  

  

  <link rel="alternate" type="application/rss+xml" title=" " href="https://scribu.net/feed.xml">

  

  

  
<!-- Google Analytics -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-962663-10', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content=" ">
  <meta property="og:title" content="Yet Another &#8220;Open External Links In A New Window Using jQuery&#8221; Tutorial">
  <meta property="og:description" content="In some cases, you need to prevent users from opening links to external sites in the same window. And what’s the easiest way to do that? jQuery, of course! Here’s my take on it: jQuery(document).delegate(‘a’, ‘click’, function() { var root = location.href.replace(location.pathname + location.search + location.hash, ''); if ( !this.href...">

  
  <meta property="og:image" content="https://scribu.net/assets/img/avatar-icon.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Cristi Burcă">
  <meta property="og:article:published_time" content="2010-06-29T00:00:00+01:00">
  <meta property="og:url" content="https://scribu.net/blog/yet-another-open-external-links-in-a-new-window-using-jquery-tutorial.html">
  <link rel="canonical" href="https://scribu.net/blog/yet-another-open-external-links-in-a-new-window-using-jquery-tutorial.html">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@scribu">
  <meta name="twitter:creator" content="@scribu">

  <meta property="twitter:title" content="Yet Another &#8220;Open External Links In A New Window Using jQuery&#8221; Tutorial">
  <meta property="twitter:description" content="In some cases, you need to prevent users from opening links to external sites in the same window. And what’s the easiest way to do that? jQuery, of course! Here’s my take on it: jQuery(document).delegate(‘a’, ‘click’, function() { var root = location.href.replace(location.pathname + location.search + location.hash, ''); if ( !this.href...">

  
  <meta name="twitter:image" content="https://scribu.net/assets/img/avatar-icon.png">
  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-md navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="https://scribu.net/"> </a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto"></ul>
  </div>

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="https://scribu.net/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/avatar-icon.png" />
        </a>
      </div>
    </div>
  

</nav>


  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Yet Another &#8220;Open External Links In A New Window Using jQuery&#8221; Tutorial</h1>
          

          
            <span class="post-meta">Posted on June 29, 2010</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <p>In some cases, you need to prevent users from opening links to external sites in the same window.</p>

<p>And what’s the easiest way to do that? jQuery, of course! Here’s my take on it:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jQuery(document).delegate(‘a’, ‘click’, function() {
	var root = location.href.replace(location.pathname + location.search + location.hash, '');

	if ( !this.href ) return;

	if ( 0 != this.href.indexOf(root) ) {
		window.open(this.href);
		return false;
	}
});
</code></pre></div></div>

<p>What’s going on up there? Let’s break it down:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jQuery(document).delegate(‘a’, ‘click’, function() {
</code></pre></div></div>

<p>First, we’re using <a href="http://brandonaaron.net/blog/2010/03/4/event-delegation-with-jquery">event delegation</a> to bind a click handler to any <code class="language-plaintext highlighter-rouge">&lt;a&gt;</code> tag.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var root = location.href.replace(location.pathname + location.search + location.hash, '');
</code></pre></div></div>

<p>Now we’re calculating the root address, based on the current location. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:8080/path/?foo=bar#baz
</code></pre></div></div>

<p>will become</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:8080
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">if ( !this.href ) return;</code> is a safety check, for when there is no <code class="language-plaintext highlighter-rouge">href</code> attribute. <code class="language-plaintext highlighter-rouge">this.href</code> contains the absolute path for the clicked link.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if ( 0 != this.href.indexOf(root) ) {
	window.open(this.href);
	return false;
}
</code></pre></div></div>

<p>Finally, if the URL does not begin with the root we calculated before, it means it’s “external”. In this case, we open a new window / tab using <code class="language-plaintext highlighter-rouge">window.open()</code> and prevent the default action by returning <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p><strong>Update:</strong> Props to filosofo for <a href="http://core.trac.wordpress.org/ticket/14127#comment:6">pointing out</a> that I should be using <code class="language-plaintext highlighter-rouge">this.href</code> instead of <code class="language-plaintext highlighter-rouge">jQuery(this).attr('href')</code>.</p>

<p><strong>Update 2:</strong> Use <code class="language-plaintext highlighter-rouge">.delegate()</code> instead of <code class="language-plaintext highlighter-rouge">.live()</code>.</p>


      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#javascript">javascript</a>
          
            <a href="/tags#jquery">jquery</a>
          
            <a href="/tags#tutorial">tutorial</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Yet+Another+%26%238220%3BOpen+External+Links+In+A+New+Window+Using+jQuery%26%238221%3B+Tutorial&url=https%3A%2F%2Fscribu.net%2Fblog%2Fyet-another-open-external-links-in-a-new-window-using-jquery-tutorial.html"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fscribu.net%2Fblog%2Fyet-another-open-external-links-in-a-new-window-using-jquery-tutorial.html"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/wordpress/custom-field-taxonomies/change-of-direction.html" data-toggle="tooltip" data-placement="top" title="Custom Field Taxonomies: Change of direction">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/wordpress/network-activation-beware.html" data-toggle="tooltip" data-placement="top" title="Network Activation: Beware">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="mailto:mail@scribu.net" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/scribu" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://linkedin.com/in/scribu" title="LinkedIn">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">LinkedIn</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Cristi Burcă
        &nbsp;&bull;&nbsp;
      
      2022

      

      
      </p>
      <!-- Please don't remove this, keep my open source work credited :) -->
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
