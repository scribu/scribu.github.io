<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset='utf-8'>

		<link rel="alternate" type="application/atom+xml" href="/feed" title="Atom Feed">

		<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
		<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/b5a2e93c-328d-4f65-842e-5847ce5a0582">

		<link rel="icon" type="image/x-icon" href="/favicon.ico" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<link href="/assets/css/normalize.css" rel="stylesheet" />
		<link href="/assets/css/h5bp.css" rel="stylesheet" />
		<link href="/assets/css/svbtle.css" rel="stylesheet" />
		<link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
		<link href="/assets/css/github.css" rel="stylesheet" />
		<link href="/assets/css/custom.css?ver=1" rel="stylesheet" />

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<title>Link-uri fără diacritice în WordPress</title>
	</head>

	<body>

		<header id="sidebar">
			<aside id="my-logo" class="clearfix">
	<a title="scribu.net" class="ir" href="/">scribu</a>
</aside>

<ul id="user_meta">
	<li class="blog_name"><h1 id="blog_name"><a href="/">scribu</a></h1></li> 
	<li class="tagline"><h2 id="tagline"></h2></li>

	<li><a class="button" href="/about/">About</a></li>
	<li><a class="button" href="/projects/">Projects</a></li>
</ul>

		</header>

		<section id="river" role="main">








<article class="post">
	<h2 class="entry-title"><a class="no-link" href="/util/link-uri-fara-diacritice-in-wordpress.html">Link-uri fără diacritice în WordPress</a></h2>

	<time datetime="2009-03-25 00:00:00 +0200" id="top_time">March 25, 2009</time>

	<p class="entry-content">
	<p><strong>Update:</strong> Acest defect a fost în sfârșit <a href="http://core.trac.wordpress.org/changeset/15931">rezolvat</a> și nu ar trebui să mai facă probleme în WordPress 3.1 (care ar trebui să apară prin decembrie, 2010).</p>

<p>Mi-ar place ca toate lucrurile să meargă, pur și simplu. Din păcate, asta nu se întâmplă aproape niciodată, mai ales când vine vorba de diacritice și mai ales dacă ne uităm la <a href="http://kitblog.com/2008/10/romanian_diacritic_marks.html">diacriticele românești</a>.</p>

<p>Deoarece URL-urile cu diacritice cauzează diferite problem în motoarele de căutare și nu numai, WordPress le convertește automat.</p>

<p>Din păcate, literele ‘ț’ și ‘ș’ nu sunt convertite în ‘t’, respectiv ‘s’.</p>

<p>Există însă o soluție destul de simplă: În fișierul <code class="highlighter-rouge">functions.php</code> al temei de WordPress folosite de tine, adaugă următoarele linii de cod:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>add_filter('wp_insert_post_data', 'caractere_problema');
function caractere_problema($data) {
	if ( empty($data['post_name']) )
		$name = $data['post_title'];
	else
		$name = $data['post_name'];

	$rep = array(
		'%c8%9b' =&gt; 't',
		'%c8%99' =&gt; 's',
		urldecode('%c8%9b') =&gt; 't',
		urldecode('%c8%99') =&gt; 's',
	);

	$new_name = str_replace(
		array_keys($rep),
		array_values($rep),
		$name
	);

	if ( $new_name == $name )
		return $data;

	$data['post_name'] = $new_name;
	return $data;
}
</code></pre></div></div>

<p>Asta e tot.</p>


</p>

	
	<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'scribu'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</article>


		</section>

		<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-962663-10");
			pageTracker._trackPageview();
		} catch(err) {}
</script>

	</body>
</html>

